/*
最大字段和  
题目内容：
给定长度为n的整数序列，a[1...n], 求[1,n]某个子区间[i , j]使得a[i]+…+a[j]和最大.
或者求出最大的这个和.例如(-2,11,-4,13,-5,2)的最大子段和为20,所求子区间为[2,4].
输入描述
第一行为一个整数n，表示数组有n个数据，第二行依次输入n个整数
输出描述
计算出n个整数中连续k个数的最大和
输入样例
5
1 2 3 4 5
7
6 -5 5 8 -13 5 7
输出样例
15
14
*/ 

#include<stdio.h>
int main()
{
	int a[100],b[100]={0},max=-100000;
	int i,j,n,k;
	scanf("%d",&n);
	for(i=0;i<n;i++)
	{
		scanf("%d",&a[i]);
		b[i]=a[i];
	}
	
	for(j=1;j<=n;j++)
	{
		if(b[j-1]>0)
		b[j]=b[j-1]+a[j];//如果b[j]大于零则相加，如果小于等于零不会对最大值进行变动 
		else
		b[j]=a[j];
		
		if(max<b[j])
		max=b[j];	
	}
	
	max=-1;
	for(k=0;k<n;k++)
	if(max<b[k])
	max=b[k];
	printf("%d",max);
	return 0;
}
/***************************************************************************************************************/

/*
最大子段和 
题目内容：
实数序列a[1],a[2],...a[n], 一个子段指一段连续的子序列a[i],a[i+1],...a[j],
其中1<=i<=j<=n. 要求给出具有最大和的子段。
要求算法时间复杂性为o(n)。
输入描述
第一行输入一个整数n,表示原序列共有n个数据；
第二行输入n个实数，用空格隔开。
输出描述
最大和的子段，每个数据也用空格隔开。
（本题的测试数据能保证最大和的那一个子段是唯一的）
输入样例
7
-1 3 -2 4 -1 6 -5
输出样例
3 -2 4 -1 6
*/ 
#include<stdio.h>
int main()
{
	int start,end,max=0,sum;
	int i,j,n,k;
	scanf("%d",&n);
	
	int *a=new int[n];
	for(i=0;i<n;i++)
		scanf("%d",&a[i]);
	
	for(i=0;i<n;i++)
		for(j=0;j<n;j++)
		{
			sum=0;
			for(k=i;k<=j;k++)
			sum=sum+a[k];
			if(sum>max)
			{
				start=i;
				end=j;
				max=sum;
			}		
		} 
	
	for(int z=start;z<=end;z++)
		printf("%d ",a[z]);
	
	return 0;
}







